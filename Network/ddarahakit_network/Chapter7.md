# Network Chapter 7 : 컴퓨터의 프로그램끼리는 이렇게 데이터를 주고 받는다

> 클라이언트와 서버가 어떻게 데이터를 주고 받는가

## 1. 4계층 프로토콜

### 4계층에서 하는 일

전송 계층(Transport layer)은 송신자의 프로세스와 수신자의 프로세스를 연결하는 통신 서비스를 제공한다

전송 계층은 연결 지향 데이터 스트림 지원, 신뢰성, 흐름 제어, 그리고 다중화와 같은 편리한 서비스를 제공한다

전송 프로토콜 중 가장 잘 알려진 것은 연결 지향 전송 방식을 사용하는 전송 제어 프로토콜(TCP)이다

보다 단순한 전송에 사용되는 사용자 데이터그램 프로토콜(UDP)도 있다

### 4계층 프로토콜의 종류

안전한 연결을 지향하지 않는 **UDP프로토콜**

> 연결상태와 관계없이 데이터 전송(단순)

안전한 연결을 지향하는 **TCP 프로토콜**

> 연결 이후에 데이터 전송 / 데이터 전송여부 확인(복잡)

## 2. 포트 번호

### 포트번호의 특징

특정 프로세스와 특정 프로세스가 통신을 하기 위해 사용한다

**하나의 포트는 하나의 프로세스**만 사용 가능하다

하나의 프로세스가 여러 개의 포트를 사용하는 것은 가능하다

포트 번호는 일반적으로 정해져 있지만 **무조건 지켜야 하는 것은 아니다**

예를 들어 일반적으로 웹 서비스는 80번 포트를 사용하지만 웹 서비스가 항상 80번 포트를 사용해야만 하는 것은 아니다

### Well-Known 포트

전 세계적으로 유명한 well-known포트

| 서비스 이름 | 포트 번호  |
| ----------- | ---------- |
| FTP         | 20번, 21번 |
| SSH         | 22번       |
| TELNET      | 23번       |
| DNS         | 53번       |
| DHCP        | 67번, 68번 |
| TFTP        | 69번       |
| HTTP        | 80번       |
| HTTPS       | 443번      |

> 유명한 서버들이 사용하는 포트

일반적으로 사용자가 웹을 사용하기 위해서는 브라우저를 사용해야함

브라우저는 웹 클라이언트가 되며, 데이트를 응답해주는 것은 웹 서버가 됨

웹 서버가 이용하는 포트번호가 바로 80번 포트(클라이언트는 dynamic포트 중 하나)

> 80또는 443등은 브라우저 단에서 자체적으로 생략

### Registered 포트

조금은 유명한 Registered 포트

| 서비스 이름      | 포트 번호 |
| ---------------- | --------- |
| 오라클 DB 서버   | 1521번    |
| MySQL 서버       | 3306번    |
| MS 원격 데스크탑 | 3389번    |

### Dynamic 포트

일반 사용자들이 사용하는 Dynamic 포트

| 시작 포트 번호 | 마지막 포트 번호 |
| -------------- | ---------------- |
| 49152번        | 65535번          |



## 3. 프로그램의 연결 정보

### 어떤 프로세스와 어떤 프로세스가 연결되어 있는지 확인

현재 포트 활성 여부를 나타내는 활성 연결 테이블

> `natstat -v`명령어로 확인

## 4. 따라學it

### 현재 연결 상태 확인하기

### 특정 서비스의 포트번호 확인하기